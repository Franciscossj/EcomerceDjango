{% extends 'plantillaBase.html' %} 
{% block titulo %} {{ 'Registro nuevo usuario' }} {% endblock %} 

{% block contenido %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <script>
        $(function()
        {
            $('.btnAceptar').click(function() // tarea: ver docume. jquery acerca de los eventos
            {

                if($('.txtRut').val() == "")
                {
                    alert("Debe especificar el Rut");
                    $('.txtRut').focus();
                    return false;
                }

                if($('.txtNombre').val() == "")
                {
                    alert("Debe especificar el Nombre");
                    $('.txtNombre').focus();
                    return false;
                }

                if($('.txtApellido').val() == "")
                {
                    alert("Debe especificar el Apellido");
                    $('.txtApellido').focus();
                    return false;
                }

                if($('.txtEmail').val() == "")
                {
                    alert("Debe especificar el Email");
                    $('.txtEmail').focus();
                    return false;
                }

                if($('.txtFecha').val() == "")
                {
                    alert("Debe especificar la Fecha");
                    $('.txtFecha').focus();
                    return false;
                }

                if($('.txtTelefono').val() == "")
                {
                    alert("Debe especificar el Telefono");
                    $('.txtTelefono').focus();
                    return false;
                }
                if($('.txtClave').val() == "")
                {
                    alert("Debe especificar la Clave");
                    $('.txtClave').focus();
                    return false;
                }

                // validar según formato. Expresiones regulares
            let emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.([a-zA-Z]{2,4})+$/
            
            if(!emailRegex.test($('.txtEmail').val()))
            {
                alert("El formato del correo no es valido");
                $('.txtEmail').focus();
                return false;
            }                                
            
            alert("Datos Registrados, Gracias por formar parte:" + 
                "\nNombre: " + $('.txtNombre').val()  + 
                "\nApellido: " + $('.txtApellido').val()  +
                "\nEmail: " + $('.txtEmail').val()  +
                "\nFecha: " + $('.txtFecha').val()  +
                "\nTelefono: " + $('.txtTelefono').val()  +
                "\nPaís: " + $('.txtPais').val()  +
                "\nEducación: " + $('.txtEducacion').val()  
                
            );
            return false; // evita la petición
            }) 

            var letras = 'qwertyuiopasdfghjklñzxcvbnmQWERTYUIOPASDFGHJKLÑZXCVBNMÁÉÍóÚáéíóú ';
            var email  = 'qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM_.@1234567890 ';
            var numeros= '+1234567890';
            var rut= '1234567890-k.';
            var clave= 'qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890¡?¿#"!%*';

            $('.txtRut').keypress(function(e)
            {
                let caracter = String.fromCharCode(e.which); //convierte el codigo
                if(rut.indexOf(caracter) <0)
                return false;
            })

            $('.txtNombre, .txtApellido').keypress(function(e)
            {                        
                let caracter = String.fromCharCode(e.which);                                
                if(letras.indexOf(caracter) < 0)
                return false;                                
            })    

            $('.txtTelefono').keypress(function(e)
            {
                let caracter = String.fromCharCode(e.which); //convierte el codigo
                if(numeros.indexOf(caracter) <0)
                return false;
            })

            $('.txtEmail').keypress(function(e)
            {
                let caracter = String.fromCharCode(e.which); //convierte el codigo
                if(email.indexOf(caracter) <0)
                return false;
            })

            $('.txtClave').keypress(function(e)
            {
                let caracter = String.fromCharCode(e.which); //convierte el codigo
                if(clave.indexOf(caracter) <0)
                return false;
            })


        }) 
    </script>

</head>

<body>

    
    <div class="container" >                              
        <form action="hola.html" method="post">

            <div class="row mt-4">
                <div class="col-12 col-md-2 offset-md-2">
                    <h4>Rut:</h4>
                </div>
                <div class="col-12 col-md-5">
                    <input type="text" name="txtRut" maxlength="12" class="txtRut form-control">
                </div>        
            </div> 


            <div class="row mt-2">
                <div class="col-12 col-md-2 offset-md-2">
                    <h4>Nombre:</h4>
                </div>
                <div class="col-12 col-md-5">
                    <input type="text" name="txtNombre" maxlength="50" class="txtNombre form-control">
                </div>        
            </div>    

            <div class="row mt-2">
                <div class="col-12 col-md-2 offset-md-2">
                    <h4>Apellido:</h4>
                </div>
                <div class="col-12 col-md-5">
                    <input type="text" name="txtApellido" maxlength="50" class="txtApellido form-control">
                </div>        
            </div>  
 

            <div class="row mt-2">
                <div class="col-12 col-md-2 offset-md-2">
                    <h4>Email:</h4>
                </div>
                <div class="col-12 col-md-5">
                    <input type="email" name="txtEmail" maxlength="50" class="txtEmail form-control">
                </div>        
            </div>

            <div class="row mt-2">
                <div class="col-12 col-md-2 offset-md-2">
                    <h4>Fecha:</h4>
                </div>
                <div class="col-12 col-md-5">
                    <input type="date" name="txtFecha" maxlength="10" class="txtFecha form-control">
                </div>        
            </div> 

            <div class="row mt-2">
                <div class="col-12 col-md-2 offset-md-2">
                    <h4>Telefono:</h4>
                </div>
                <div class="col-12 col-md-5">
                    <input type="text" name="txtTelefono" maxlength="12" class="txtTelefono form-control">
                </div>        
            </div>  

            
            
            <div class="row mt-2">
                <div class="col-3 col-md-2 offset-md-2">
                    <h4>País:</h4>
                </div>
                <div class="col-9 col-md-5">
                    <select type ="cmb" name="txtPais" class="txtPais form-control">
                        <option value="No seleccionado">Seleccionar</option>
                        <option value="Chile">Chile</option>
                        <option value="Argentina">Argentina</option>
                        <option value="Perú">Perú</option>
                        <option value="Bolivia">Bolivia</option>
                        <option value="Paraguay">Paraguay</option>
                        <option value="España">España</option>
                    </select>
                </div>
            </div>    

            <div class="row mt-2">
                <div class="col-3 col-md-2 offset-md-2">
                    <h4>Educación:</h4>
                </div>
                <div class="col-9 col-md-5">
                    <select type ="cmb" name="txtEducacion" class="txtEducacion form-control">
                        <option value="No seleccionado">Seleccionar</option>
                        <option value="Basico">Basico</option>
                        <option value="Media">Media</option>
                        <option value="Profesional">Profesional</option>
                        <option value="Doctorado">Doctorado</option>
                    </select>
                </div>
            </div>   

            <div class="row mt-2">
                <div class="col-12 col-md-2 offset-md-2">
                    <h4>Clave:</h4>
                </div>
                    <div class="col-12 col-md-5">
                        <input type="password" name="txtClave" class="txtClave form-control">
                    </div>
            </div>


            <div class="row mt-4">
                <div class="col-3 col-md-2 offset-md-3">
                </div>
                <div class="col-9 col-md-5">
                    <input type="submit" name="btnAceptar" class="btnAceptar btn btn-info float-right" value="REGISTRARSE">
                </div>        
            </div>
            
        </form>
    </div>
</body>
</html>

{% endblock %}